# Java基础-集合

## 笔记相关

课程名称：【尚学堂】java集合框架精品教程_List、Set、Map_附源码

课程地址：https://www.bilibili.com/video/BV1Ah411175b

笔记作者：RyanHo97

笔记时间：2021/2/22

主要内容：

1. 集合框架体系
2. ArrayList
3. LinkedList
4. HashSet
5. TreeSet
6. LinkedHashSet
7. 内部比较器和外部比较器
8. 哈希表的原理



## 正文

### 1、集合和数组的比较

集合的使用场景-Where

举例：新闻报表、就业喜报、就业明星、邮件列表、购物车；当我们需要将一些相同结构的个体整合在一起时，就可以考虑使用集合了。

为什么使用集合而不是数组-Why

一、集合和数组相似点

​		都可以存储多个对象，对外作为一个整体存在

二、数组的缺点

- 长度必须在初始化时指定，且固定不变
- 数组采用连续的存储空间，删除和添加效率低下
- 数组无法直接保存映射关系
- 数组缺乏封装，操作繁琐



### 2、集合框架

- Java集合框架提供了一套性能优良、使用方便的接口和类，它们位于java.util包中。存放在集合中的数据，被称为元素(element)。
- 集合架构
  - Collection 接口存储一组不唯一，无序的对象
  - List 接口存储一组不唯一，有序（索引顺序）的对象
  - Set 接口存储一组唯一，无序的对象
  - Map 接口存储一组键值对象，提供key到value的映射
    - ​	key 唯一 无序
    - value 不唯一 无序



### 3、List集合

​	List集合的主要实现类有ArrayList和LinkedList，分别是数据结构中顺序表和链表的实现。另外还包括栈和队列的实现类：Deque和Queue。

- ​	List
  - 特点：有序 不唯一（可重复）
- ArrayList
  - 在内存中分配连续的空间，实现了长度可变的数组
  - 优点：遍历元素和随机访问元素的效率比较高
  - 缺点：添加和删除需大量移动元素效率低，按照内容查询效率低
- LinkedList
  - 采用双向链表存储方式
  - 缺点：遍历和随机访问元素效率低下
  - 优点：插入、删除元素效率比较高（但是前提也是必须先低效率查询才可。如果插入删除发生在头尾可以减少查询次数）

#### 3.1 ArrayList

示例1 使用ArrayList存储多个学生的分数

```java
package com.bjsxt.list;

/*
    使用ArrayList存储多个学生分数（不唯一，索引有序）

    数组中既可以放基本数据类型，也可以放引用数据类型，比如：int arr[]  Computer []  arr2;
    集合中只能放引用数据类型，不能放基本数据类型； 基本数据类型需要使用包装类来包装，然后再放入集合
 */

import com.sun.org.apache.xpath.internal.SourceTree;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class TestArrayList1 {
    public static void main(String[] args) {
        //创建一个集合对象
        //ArrayList arrayList = new ArrayList();   下面好处是更改成LinkedList不用改下面的代码
        List list = new ArrayList();

        //添加元素
        list.add(80);//自动装箱 int -- Integer
        list.add(90);
        list.add(80);//像末尾添加元素
        //list.add(new Integer(80)); jdk1.4
        list.add(1,100);//向指定的索引添加元素
        //底层发生了大量元素的后移操作，并且可能发生数组的扩容，开发者无需关注，发号施令即可


        //元素的数量
        System.out.println(list.size());//集合中真实存储的元素个数，并不是底层数组的length


        //获取指定索引的元素
        int elem = (int) list.get(1);
        System.out.println(elem);


        //遍历元素
        System.out.println(list.toString());
        //方法1：for循环
        for (int i = 0,l = list.size();i < l;i++){
            int elem2 = (int)list.get(i);
                System.out.println(i+"------>"+elem2);
        }

        //方法2：for-each循环
        for(Object elem3:list){
            System.out.println(elem3);
        }

        //方法3：Iterator
        Iterator it = list.iterator();
        while (it.hasNext()){//是否还有元素 boolean true：有 false：无
            int elem2 = (int) it.next();//取出元素
            System.out.println(elem2);

        }

        //方法4：Lambda表达式+流式编程(JDK 1.8)
        System.out.println("==============");
        //list.forEach((i) -> System.out.println(i));
        list.forEach(System.out::println);

    }
}

```

