原文:
https://www.cnblogs.com/leo-chen-2014/p/9739563.html

缓存穿透和雪崩可以看做一个问题，只是严重程度不同；当一个请求到达redis之后发现没有对应的缓存数据，然后向DB发送数据请求，如果能获取到数据那问题就停留在了缓存穿透上，DB获取到的数据会缓存到redis上；如果DB中也没有对应的数据，并且当这样的请求达到一定数量级并且耗用完所有的DB资源，最终导致DB连接异常就出现了缓存雪崩问题。
解决缓存穿透问题的思路有下述几种，不管是否从DB中查找到对应的值（没有值就为null），都在redis中记录一条缓存记录；在Dao层维护一张BitMap，用bit记录对应的key是否有对应值，从而避免冗余的DB操作；后台线程专门用于更新即将过期的Redis数据，从而避免缓存穿透。
解决缓存雪崩问题的思路有下述几种，在DB Connection上添加互斥锁，这样当大量缓存请求失效的时候需要排队去DB请求数据；对设置了相同过期时间的数据设置一个随机值，避免数据集体失效；使用双缓存或者多层缓存策略，需要配合缓存预热。

 
